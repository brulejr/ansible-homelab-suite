---
- name: Common baseline for all servers
  hosts: all
  become: true
  roles:
    - common
    - docker
    - watchtower

- name: Setup the admin servers
  hosts: admin_servers
  become: true
  roles:
    - homarr
    - wikijs
    - vaultwarden

- name: Setup the devops servers
  hosts: devops_servers
  become: true
  roles:
    - nexus

- name: Setup the home automation servers
  hosts: ha_servers
  become: true
  roles:
    - homeassistant
    - nodered
    - mqtt

- name: Setup the media servers
  hosts: media_servers
  become: true
  roles:
    - jellyfin

- name: Setup the network servers
  hosts: network_servers
  become: true
  roles:
    - guacamole

- name: Setup the identification servers
  hosts: id_servers
  become: true
  roles:
    - portainer
    - traefik
    - traefik_sso
    - keycloak
    - sso_gateway
